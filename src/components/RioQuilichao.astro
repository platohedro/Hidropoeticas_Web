---
export interface Props {
  cx: string;
  cy: string;
}

const { cx, cy } = Astro.props;
---

<g class="river-point group cursor-pointer" data-river="quilichao">
  <!-- SVG Definitions -->
  <defs>
    <linearGradient id="mapGradient-quilichao" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:0.3" />
      <stop offset="50%" style="stop-color:#0891b2;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#0f766e;stop-opacity:0.3" />
    </linearGradient>
    
    <!-- Enhanced shadow filter for video circles -->
    <filter id="videoShadow-quilichao" x="-200%" y="-200%" width="500%" height="500%">
      <feDropShadow dx="0" dy="12" stdDeviation="20" flood-color="#000" flood-opacity="0.6"/>
      <feDropShadow dx="0" dy="8" stdDeviation="15" flood-color="#4fe9ab" flood-opacity="0.3"/>
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#0ea5e9" flood-opacity="0.2"/>
    </filter>
    
    <!-- Intense hover shadow filter -->
    <filter id="videoShadowHover-quilichao" x="-300%" y="-300%" width="700%" height="700%">
      <feDropShadow dx="0" dy="20" stdDeviation="35" flood-color="#000" flood-opacity="0.8"/>
      <feDropShadow dx="0" dy="15" stdDeviation="25" flood-color="#4fe9ab" flood-opacity="0.5"/>
      <feDropShadow dx="0" dy="10" stdDeviation="18" flood-color="#0ea5e9" flood-opacity="0.4"/>
      <feDropShadow dx="0" dy="5" stdDeviation="12" flood-color="#06b6d4" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <circle cx={cx} cy={cy} r="60" 
          fill="rgba(79, 233, 171, 0.1)" 
          stroke="rgba(79, 233, 171, 0.5)" 
          stroke-width="2" 
          class="transition-all duration-500 group-hover:r-70 group-hover:fill-opacity-20 md:r-50 md:group-hover:r-60"/>
  
  <!-- Video Circle -->
  <circle cx={cx} cy={cy} r="45" 
          fill="rgba(0, 0, 0, 0.3)" 
          filter="url(#videoShadow-quilichao)"
          class="transition-all duration-500 group-hover:r-55 group-hover:[filter:url(#videoShadowHover-quilichao)] md:r-35 md:group-hover:r-45"/>
  
  <foreignObject x={Number(cx) - 45} y={Number(cy) - 45} width="90" height="90" class="pointer-events-none group-hover:opacity-100 opacity-75 transition-all duration-500">
    <div class="w-full h-full rounded-full overflow-hidden border-2 border-cyan-400/50 group-hover:border-cyan-300 group-hover:border-4 transition-all duration-500 shadow-2xl group-hover:shadow-[0_0_50px_rgba(79,233,171,0.6)]">
      <img src="/rio-quilichao.jpg" alt="Rio Quilichao" class="w-full h-full object-cover group-hover:scale-115 transition-transform duration-700">
    </div>
  </foreignObject>
  
  <!-- Hover Label -->
  <foreignObject x={Number(cx) + 70} y={Number(cy) - 30} width="200" height="100" class="pointer-events-none">
    <div class="bg-gradient-to-r from-slate-900/95 to-slate-800/95 text-cyan-300 px-3 py-2 md:px-4 md:py-3 rounded-lg md:rounded-xl text-sm md:text-base font-semibold shadow-2xl border border-cyan-500/50 backdrop-blur-md opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-x-[-30px] translate-y-2 group-hover:translate-x-0 group-hover:translate-y-0 group-hover:scale-105">
      <div class="hidden md:block">Rio Quilichao</div>
      <div class="md:hidden">Quilichao</div>
      <div class="text-xs text-cyan-400 font-normal mt-1">Cauca</div>
    </div>
  </foreignObject>
  
  <!-- Click area -->
  <circle cx={cx} cy={cy} r="60" 
          fill="transparent" 
          class="cursor-pointer md:r-50"
          onclick="window.location.href='/rio-quilichao'"/>
</g>